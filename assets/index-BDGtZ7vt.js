var b=Object.defineProperty;var g=(i,t,e)=>t in i?b(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e;var o=(i,t,e)=>g(i,typeof t!="symbol"?t+"":t,e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function e(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function a(n){if(n.ep)return;n.ep=!0;const s=e(n);fetch(n.href,s)}})();const k="modulepreload",C=function(i){return"/bus-iti/"+i},h={},y=function(t,e,a){let n=Promise.resolve();if(e&&e.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),c=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));n=Promise.all(e.map(l=>{if(l=C(l),l in h)return;h[l]=!0;const p=l.endsWith(".css"),_=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${_}`))return;const u=document.createElement("link");if(u.rel=p?"stylesheet":k,p||(u.as="script",u.crossOrigin=""),u.href=l,c&&u.setAttribute("nonce",c),document.head.appendChild(u),p)return new Promise((m,f)=>{u.addEventListener("load",m),u.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${l}`)))})}))}return n.then(()=>t()).catch(s=>{const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=s,window.dispatchEvent(c),!c.defaultPrevented)throw s})};var r=(i=>(i.RU="ru",i.BY="by",i.UA="ua",i.KZ="kz",i.CN="cn",i.CA="ca",i.BG="bg",i))(r||{});const d={[r.RU]:{mask:"+{7} (000) 000-00-00",placeholder:"+7 (999) 999-99-99",code:r.RU,country:"Россия",prefix:"+7"},[r.BY]:{mask:"+{375} (00) 000-00-00",placeholder:"+375 (99) 999-99-99",code:r.BY,country:"Беларусь",prefix:"+375"},[r.UA]:{mask:"+{38\\0} (00) 000-00-00",placeholder:"+380 (99) 999-99-99",code:r.UA,country:"Украина",prefix:"+380"},[r.KZ]:{mask:"+{7} (000) 000-00-00",placeholder:"+7 (999) 999-99-99",code:r.KZ,country:"Казахстан",prefix:"+7"},[r.CN]:{mask:"+{86} (000) 000-00-00",placeholder:"+86 (999) 999-99-99",code:r.CN,country:"Китай",prefix:"+86"},[r.CA]:{mask:"+{1} (000) 000-00-00",placeholder:"+1 (999) 999-99-99",code:r.CA,country:"Канада",prefix:"+1"},[r.BG]:{mask:"+{359} (000) 000-000",placeholder:"+359 (999) 999-999",code:r.BG,country:"Болгария",prefix:"+359"}};class v{constructor(){o(this,"_selectMaskEvent",[])}render(t){const e=document.createElement("li");return e.classList.add("bus-iti__options-item"),e.dataset.phonemaskCountryCode=t.code,e.innerHTML=`
			<span class="bus-iti__options-flag bus-iti__options-flag_${t.code}"></span>
			<span class="bus-iti__options-name">${t.country}</span>
			<span class="bus-iti__options-code">${t.prefix}</span>
		`,e.onclick=()=>{this._selectMaskEvent.forEach(a=>a(t))},e}onClick(t){this._selectMaskEvent.push(t)}}class O{constructor(t){o(this,"_button");o(this,"_flagElement");o(this,"_currentCode");o(this,"_toggleVisibleOptionsEvent",[]);this._currentCode=t,this._button=document.createElement("button"),this._button.type="button",this._button.classList.add("bus-iti__select"),this._button.innerHTML=`
			<span class="bus-iti__select-flag" data-phonemask-flag="${this._currentCode}"></span>
			<span class="bus-iti__select-arrow"></span>
		`,this._button.onclick=()=>{this._toggleVisibleOptionsEvent.forEach(e=>e())},this._flagElement=this._button.querySelector(".bus-iti__select-flag")}get buttonSelect(){return this._button}set currentCode(t){this._currentCode!==t&&(this._currentCode=t,this._flagElement.setAttribute("data-phonemask-flag",t))}onClick(t){this._toggleVisibleOptionsEvent.push(t)}}const E={initialCountry:r.RU};class L{constructor(t,e={}){o(this,"_IMask",null);o(this,"_instanceMask",null);o(this,"_currentCode");o(this,"_options");o(this,"_input");o(this,"_wrapper");o(this,"_buttonSelect");o(this,"_listOptions");o(this,"onChangeInputHandle",()=>{var t;this._input.dataset.value=(t=this._instanceMask)==null?void 0:t.unmaskedValue,this._input.toggleAttribute("data-invalid-phonemask",!this.isComplete)});o(this,"initMask",async()=>{var t;this._IMask??(this._IMask=await y(()=>import("./index-boo8ZXql.js"),[])),this._IMask&&((t=this._instanceMask)==null||t.destroy(),this._instanceMask=this._IMask.default(this._input,{mask:d[this._currentCode].mask,lazy:!1}),this.setCursorToLastMaskSymbol(),this.closeOptions())});o(this,"toggleOptions",()=>{this.visibleOptions?(this.closeOptions(),document.removeEventListener("mousedown",this.handleOutsideClick)):(this._wrapper.classList.add("bus-iti-visible-options"),this.renderList(),document.addEventListener("mousedown",this.handleOutsideClick))});o(this,"onSelectCountry",({code:t,mask:e,placeholder:a})=>{this._buttonSelect.currentCode=t,this._currentCode=t,this._input.value="",this._input.placeholder=a,this._input.dataset.value="",this._input.dataset.phonemask=e,this._input.dataset.countryCode=t,this._input.focus()});o(this,"handleOutsideClick",t=>{document.removeEventListener("mousedown",this.handleOutsideClick),!this._wrapper.contains(t.target)&&this.closeOptions()});this._options=Object.assign(E,e),this._currentCode=this._options.initialCountry,this._input=document.getElementById(t),this._wrapper=document.createElement("div"),this._listOptions=document.createElement("div"),this._buttonSelect=new O(this._options.initialCountry),this.init()}init(){const{mask:t,placeholder:e,code:a}=d[this._currentCode];this._input.parentNode.insertBefore(this._wrapper,this._input),this._input.type="tel",this._input.placeholder=e,this._input.dataset.phonemask=t,this._input.dataset.countryCode=a,this._input.addEventListener("focus",this.initMask),this._input.addEventListener("change",this.onChangeInputHandle),this._wrapper.classList.add("bus-iti"),this._wrapper.append(this._buttonSelect.buttonSelect,this._input),this._buttonSelect.onClick(this.toggleOptions)}renderList(){this._listOptions??(this._listOptions=document.createElement("div"));const t=document.createDocumentFragment();Object.keys(d).forEach(e=>{const a=new v,n=d[e],s=a.render(n);t.append(s),a.onClick(this.onSelectCountry)}),this._listOptions.classList.add("bus-iti__options-wrap"),this._listOptions.innerHTML='<ul class="bus-iti__options-list"></ul>',this._listOptions.children[0].append(t),this._wrapper.append(this._listOptions)}closeOptions(){this._wrapper.classList.remove("bus-iti-visible-options"),this._listOptions.remove()}setCursorToLastMaskSymbol(){if(this._input.value){const t=this._input.value.indexOf("_"),e=t!==-1?t:this._input.value.length;this._input.setSelectionRange(e,e)}}get visibleOptions(){return this._wrapper.classList.contains("bus-iti-visible-options")}get isComplete(){var t;return(t=this._instanceMask)==null?void 0:t.masked.isComplete}}document.addEventListener("DOMContentLoaded",()=>{new L("phone")});
